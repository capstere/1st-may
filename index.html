<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <title>Return of the JESP</title>
  <style>
    /* --- Reset --- */
    * { margin: 0; padding: 0; }

    /* --- Basinställningar + perspektiv --- */
    body, html {
      width: 100%; height: 100%;
      font-family: "Droid Sans", arial, sans-serif;
      font-weight: 700;
      color: #ff6;
      overflow: hidden;
      position: relative;
      background: none;       /* Ta bort statisk bakgrund */
      perspective: 800px;
    }

    /* --- Animerad stjärnhimmel --- */
    body::before {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 200vh;
      background: url('assets/bg-stars.jpeg') no-repeat center top;
      background-size: cover;
      transform: translateY(0);
      z-index: -1;
    }
    body.falling::before {
      animation: starsFall 12s linear forwards;
    }
    @keyframes starsFall {
      to { transform: translateY(-100vh); }
    }

    .hidden { display: none; }

    /* --- Countdown --- */
    #countdown {
      position: absolute;
      top: 10px; left: 50%;
      transform: translateX(-50%);
      font-size: 2rem;
      color: #ffe81f;
      z-index: 1000;
    }

    /* --- Startknapp --- */
    #start-button {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      font-size: 1.8em;
      padding: 20px 40px;
      background-color: #ffe81f;
      color: black;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      z-index: 1100;
    }

    /* --- Intro‑text --- */
    #start-text {
      position: relative;
      width: 16em;
      margin: 20% auto;
      font-size: 200%;
      font-weight: 400;
      color: #4ee;
      opacity: 0;
      z-index: 1;
      animation: intro 2s ease-out forwards;
    }
    @keyframes intro {
      0%, 90% { opacity: 1; }
      100%    { opacity: 0; }
    }

    /* --- SPAR WARS‑logga med kraftigare borders --- */
    h1 {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%) translateZ(0) scale(1);
      transform-origin: center center;
      font-size: 50em;
      line-height: 0.8em;
      letter-spacing: -0.05em;
      color: #000;
      text-shadow:
        -2px -2px 0 #ff6,
         2px -2px 0 #ff6,
        -2px  2px 0 #ff6,
         2px  2px 0 #ff6;
      -webkit-text-stroke: 4px #ff6;  /* Fetare gul kant */
      opacity: 0;
      z-index: 1;
      animation: logo 3s ease-out 0.5s forwards;
    }
    @keyframes logo {
      0% {
        transform: translate(-50%, -50%) translateZ(0) scale(1);
        opacity: 1;
      }
      50% {
        opacity: 1;
      }
      100% {
        transform: translate(-50%, -50%) translateZ(-800px) scale(0.2);
        opacity: 0;
      }
    }

    /* --- Crawl‑text --- */
    #titles {
      position: absolute;
      width: 18em; height: 50em;
      bottom: 0; left: 50%;
      margin-left: -9em;
      font-size: 350%;
      text-align: justify;
      overflow: hidden;
      transform-origin: 50% 100%;
      transform: perspective(300px) rotateX(25deg);
    }
    #titles:after {
      content: "";
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 60%;
      background: linear-gradient(to bottom,
        rgba(0,0,0,1) 0%, transparent 100%);
      pointer-events: none;
    }
    #titlecontent {
      position: absolute;
      top: 100%;
      animation: scroll 15s linear 2s forwards;
    }
    @keyframes scroll {
      0%   { top: 100%; }
      100% { top: -170%; }
    }
    #titles p { margin: 0.8em 0; }
    #titles p.center { text-align: center; }

    /* --- Planetbild med lägre stopp och exakt samma tid --- */
    #planet-effect {
      position: fixed;
      bottom: 0; left: 50%;
      transform: translateX(-50%) translateY(100%);
      width: 100%;
      opacity: 0;
      z-index: 900;
      animation: none;
    }
    #planet-effect.active-planet {
      animation: planetRise 12s ease-out forwards;
    }
    @keyframes planetRise {
      from {
        transform: translateX(-50%) translateY(100%);
        opacity: 0;
      }
      to {
        transform: translateX(-50%) translateY(-5vh); /* Lite lägre än tidigare */
        opacity: 1;
      }
    }

    /* --- Finala element + knappar --- */
    #final-elements {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      z-index: 1050;
      opacity: 0;
      transition: opacity 3s ease-in;
    }
    #final-elements:not(.hidden) {
      opacity: 1;
    }
    #main-title {
      font-size: 4em;
      color: #ffe81f;
      text-shadow: 2px 2px 8px rgba(255,232,31,0.8);
      margin-bottom: 1em;
    }
    #buttons {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 32px;
      flex-wrap: wrap;
    }
    .hamburger-btn {
      position: relative;
      padding: 24px 48px;
      font-size: 1.5em;
      background: linear-gradient(145deg, #ffe81f, #ffd700);
      color: black;
      border: 2px solid black;
      border-radius: 8px;
      text-transform: uppercase;
      cursor: pointer;
      overflow: hidden;
      transition: transform 0.2s ease;
    }
    .hamburger-btn span {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      white-space: nowrap;
      transition: transform 0.5s ease, opacity 0.5s ease;
    }
    .hamburger-btn span:nth-child(1) {
      clip-path: polygon(0 0,100% 0,100% 50%,0 50%);
      z-index: 2;
    }
    .hamburger-btn span:nth-child(2) {
      clip-path: polygon(0 50%,100% 50%,100% 100%,0 100%);
      z-index: 2;
    }
    .hamburger-btn span:nth-child(3) {
      transform: translate(-50%, -50%) scaleY(0);
      transform-origin: center center;
      opacity: 0;
      font-size: 1em;
      font-weight: 700;
      color: #ffe81f;
      text-shadow: 2px 2px 8px rgba(255,232,31,0.8);
      z-index: 1;
    }
    .hamburger-btn:hover span:nth-child(1) {
      transform: translate(-50%, calc(-50% - 0.8em));
    }
    .hamburger-btn:hover span:nth-child(2) {
      transform: translate(-50%, calc(-50% + 0.8em));
    }
    .hamburger-btn:hover span:nth-child(3) {
      transform: translate(-50%, -50%) scaleY(1);
      opacity: 1;
      color: black; /* Ändrar inner-texten till svart vid hover */
    }
  </style>
</head>
<body>
  <div id="countdown"></div>
  <button id="start-button">MAY THE JESP BE WITH YOU</button>
  <p id="start-text" class="hidden">
    long time ago, in a cepheid far,<br> far away….
  </p>
  <h1 class="hidden">SPAR WARS</h1>
  <div id="titles" class="hidden">
    <div id="titlecontent">
      <p class="center">Episode TBD<br />RETURN OF THE JESP</p>
      <p>It is a period of vendor war.</p>
      <p>The Jedi Knight known only as JESP has been summoned back from self-imposed exile by the FIRST ORDER.</p>
      <p>After vanishing without a trace, JESP was secretly captured by the sinister GURULAB.</p>
      <p>The once-promising Jedi has now escaped and returned to his home planet of BROWSKIS.</p>
      <p>There, alongside the fierce Jedi Knights VDAO and ELS, young JESP must once again board the Milliliter FALCON Tube, a vessel fully equipped for the mission ahead.</p>
      <p>But JESP has no plan, no understanding of the objective, and confuses hyperspace with emotional growth.</p>
      <p>Meanwhile, Senator TUKA, obsessed with locating JESP, has dispatched thousands of remote probes into the far reaches of space to uncover his ignorance.</p>
      <p>Unaware of the trials to come, JESP must now UNLEARN all that he once tried to learn.</p>
      <p>The fate of the galaxy may hang in the balance… but mostly, everyone just wants to know how he made it this far.</p>
    </div>
  </div>
  <img id="planet-effect" class="hidden" src="assets/planet.png" alt="Planet">
  <div id="final-elements" class="hidden">
    <div id="main-title">RETURN OF THE JESP</div>
    <div id="buttons">
      <button class="hamburger-btn" data-sound="sound1.mp3"><span>J</span><span>J</span><span>believe</span></button>
      <button class="hamburger-btn" data-sound="sound2.mp3"><span>E</span><span>E</span><span>faith</span></button>
      <button class="hamburger-btn" data-sound="sound3.mp3"><span>S</span><span>S</span><span>trust</span></button>
      <button class="hamburger-btn" data-sound="sound4.mp3"><span>P</span><span>P</span><span>win</span></button>
    </div>
  </div>
  <audio id="bgMusic" src="assets/intro.mp3" preload="auto"></audio>
  <script>
    function sleep(ms) { return new Promise(res => setTimeout(res, ms)); }

    function updateCountdown() {
      const el = document.getElementById("countdown");
      const target = new Date("2025-05-01T00:00:00");
      (function tick(){
        const diff = target - new Date();
        if(diff <= 0){
          el.textContent = "The day has arrived!";
          return;
        }
        const d = Math.floor(diff/864e5),
              h = Math.floor(diff/36e5 % 24),
              m = Math.floor(diff/6e4 % 60),
              s = Math.floor(diff/1e3 % 60);
        el.textContent = `${d}d ${h}h ${m}m ${s}s`;
        setTimeout(tick, 1000);
      })();
    }

    async function startSequence(){
      document.getElementById("start-button").style.display = "none";

      const intro = document.getElementById("start-text");
      intro.classList.remove("hidden");
      await sleep(2100);

      const logo = document.querySelector("h1");
      logo.classList.remove("hidden");
      await sleep(500);

      const bg = document.getElementById("bgMusic");
      bg.muted = false; bg.play().catch(() => {});

      const titles = document.getElementById("titles");
      titles.classList.remove("hidden");
      await sleep(17000);
      titles.style.display = "none";

      document.body.classList.add("falling");
      const planet = document.getElementById("planet-effect");
      planet.classList.remove("hidden");
      planet.classList.add("active-planet");

      await sleep(6000);

      document.getElementById("final-elements").classList.remove("hidden");
    }

    function setupSoundButtons(){
      document.querySelectorAll(".hamburger-btn").forEach(btn => {
        btn.addEventListener("click", () => {
          new Audio(`assets/${btn.dataset.sound}`).play().catch(() => {});
        });
      });
    }

    updateCountdown();
    document.getElementById("start-button")
      .addEventListener("click", () => {
        setupSoundButtons();
        startSequence();
      });
  </script>
</body>
</html>